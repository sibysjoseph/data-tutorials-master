{"topologyName":"Trucking_IOT","config":"{\"topology.workers\":1,\"topology.acker.executors\":1,\"topology.message.timeout.secs\":30,\"clustersSecurityConfig\":[{}],\"topology.worker.childopts\":\"-Xmx768m\",\"HBase RootDir\":\"hdfs://sandbox-hdf.hortonworks.com:8020/apps/hbase/data\"}","sources":[{"id":17,"topologyId":1,"topologyComponentBundleId":1,"versionId":18,"name":"TruckingDataTruck","description":"","config":{"properties":{"cluster":"1","consumerGroupId":"trucking_data_truck1","retryDelayPeriodMs":2,"maximumUncommittedOffsets":10000000,"maxRecordsPerPoll":"500","maximumRetries":2147483647,"parallelism":1,"emitNullTuples":false,"partitionRefreshPeriodMs":2000,"securityProtocol":"PLAINTEXT","bootstrapServers":"sandbox-hdf.hortonworks.com:6667","retryDelayMaximumMs":10000,"fetchMaximumBytesPerPartition":"1048576","firstPollOffsetStrategy":"EARLIEST","sslTruststoreType":"JKS","clusters":"Sandbox","fetchMinimumBytes":"1","sslKeystoreType":"JKS","sslTrustManagerAlgo":"PKIX","retryInitialDelayMs":0,"sslKeyManagerAlgo":"SunX509","sslProtocol":"TLS","topic":"trucking_data_truck","readerSchemaVersion":"1","pollTimeoutMs":200,"offsetCommitPeriodMs":30000}},"outputStreams":[{"id":17,"versionId":18,"streamId":"kafka_stream_17","description":null,"topologyId":1,"fields":[{"name":"eventTime","type":"LONG","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"routeName","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"foggy","type":"INTEGER","optional":false},{"name":"rainy","type":"INTEGER","optional":false},{"name":"windy","type":"INTEGER","optional":false}],"timestamp":1509757981369}],"timestamp":1509753677294},{"id":16,"topologyId":1,"topologyComponentBundleId":1,"versionId":18,"name":"TruckingDataTraffic","description":"","config":{"properties":{"cluster":"1","consumerGroupId":"trucking_data_traffic1","retryDelayPeriodMs":2,"maximumUncommittedOffsets":10000000,"maxRecordsPerPoll":"500","maximumRetries":2147483647,"parallelism":1,"emitNullTuples":false,"partitionRefreshPeriodMs":2000,"securityProtocol":"PLAINTEXT","bootstrapServers":"sandbox-hdf.hortonworks.com:6667","retryDelayMaximumMs":10000,"fetchMaximumBytesPerPartition":"1048576","firstPollOffsetStrategy":"EARLIEST","sslTruststoreType":"JKS","clusters":"Sandbox","fetchMinimumBytes":"1","sslKeystoreType":"JKS","sslTrustManagerAlgo":"PKIX","retryInitialDelayMs":0,"sslKeyManagerAlgo":"SunX509","sslProtocol":"TLS","topic":"trucking_data_traffic","readerSchemaVersion":"1","pollTimeoutMs":200,"offsetCommitPeriodMs":30000}},"outputStreams":[{"id":16,"versionId":18,"streamId":"kafka_stream_16","description":null,"topologyId":1,"fields":[{"name":"eventTime","type":"LONG","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"congestionLevel","type":"INTEGER","optional":false}],"timestamp":1509757981369}],"timestamp":1509753677090}],"sinks":[{"id":2,"topologyId":1,"topologyComponentBundleId":10,"versionId":18,"name":"HDFS","description":"","config":{"properties":{"fsUrl":"hdfs://sandbox-hdf.hortonworks.com:8020","outputFields":["driverName","routeName","latitude","longitude","speed","eventType","foggy","rainy","windy","driverId","truckId","congestionLevel","routeId","eventTime"],"cluster":"1","path":"/sandbox/join","extension":".txt","rotationPolicy":{"timeBasedRotation":{"rotationInterval":60,"rotationIntervalUnit":"SECONDS"}},"prefix":"","parallelism":1,"countPolicyValue":1000,"clusters":"Sandbox"}},"timestamp":1509757981369},{"id":4,"topologyId":1,"topologyComponentBundleId":16,"versionId":18,"name":"Violation-Events-Cube","description":"","config":{"properties":{"cluster":"1","clusterReplication":1,"segmentGranularity":"MINUTE","indexRetryPeriod":"PT10M","maxBatchSize":50,"maxPendingBatches":5,"discoveryPath":"/druid/discovery","clusterPartitions":1,"windowPeriod":"PT10M","aggregatorList":[{"count":{"name":"cnt"}}],"tranquilityZKconnect":"sandbox-hdf.hortonworks.com:2181","discardStreamId":"DRUID-DISCARD-STREAM-ID","indexService":"druid/overlord","blockOnFull":true,"timestampField":"processingTime","lingerMillis":0,"queryGranularity":"MINUTE","dataSource":"violation-events-cube2","clusters":"Sandbox","dimensions":["eventTime","routeId","congestionLevel","truckId","driverId","driverName","routeName","latitude","longitude","speed","eventType","foggy","rainy","windy"]}},"timestamp":1509757981369},{"id":13,"topologyId":1,"topologyComponentBundleId":10,"versionId":18,"name":"Data-Lake-HDFS","description":"","config":{"properties":{"fsUrl":"hdfs://sandbox-hdf.hortonworks.com:8020","outputFields":["eventTime","routeId","congestionLevel","truckId","driverId","driverName","routeName","latitude","longitude","speed","eventType","foggy","rainy","windy"],"cluster":"1","path":"/sandbox/trucking-app","extension":".txt","rotationPolicy":{"timeBasedRotation":{"rotationInterval":60,"rotationIntervalUnit":"SECONDS"}},"prefix":"","parallelism":1,"countPolicyValue":20,"clusters":"Sandbox"}},"timestamp":1509757981369}],"processors":[{"id":18,"topologyId":1,"topologyComponentBundleId":7,"versionId":18,"name":"JOIN","description":"","config":{"properties":{"joins":[{"type":"INNER","stream":"kafka_stream_17","key":"routeId","with":"kafka_stream_16"}],"parallelism":1,"from":{"stream":"kafka_stream_16","key":"routeId"},"outputKeys":["kafka_stream_16:eventTime as eventTime","kafka_stream_16:routeId as routeId","congestionLevel","truckId","driverId","driverName","routeName","latitude","longitude","speed","eventType","foggy","rainy","windy"],"window":{"windowLength":{"class":".Window$Duration","durationMs":1000},"slidingInterval":{"class":".Window$Duration","durationMs":1000},"tsField":null,"lagMs":0},"outputStream":"join_processor_stream_18"}},"outputStreams":[{"id":18,"versionId":18,"streamId":"join_processor_stream_18","description":null,"topologyId":1,"fields":[{"name":"eventTime","type":"LONG","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"congestionLevel","type":"INTEGER","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeName","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"foggy","type":"INTEGER","optional":false},{"name":"rainy","type":"INTEGER","optional":false},{"name":"windy","type":"INTEGER","optional":false}],"timestamp":1509757981369}],"timestamp":1509757981369},{"id":3,"topologyId":1,"topologyComponentBundleId":4,"versionId":18,"name":"IsViolation","description":"","config":{"properties":{"rules":[4]}},"outputStreams":[{"id":21,"versionId":18,"streamId":"rule_transform_stream_4","description":null,"topologyId":1,"fields":[{"name":"eventTime","type":"LONG","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"congestionLevel","type":"INTEGER","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeName","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"foggy","type":"INTEGER","optional":false},{"name":"rainy","type":"INTEGER","optional":false},{"name":"windy","type":"INTEGER","optional":false}],"timestamp":1509757981369},{"id":22,"versionId":18,"streamId":"rule_notifier_stream_4","description":null,"topologyId":1,"fields":[{"name":"eventTime","type":"LONG","optional":false},{"name":"routeId","type":"INTEGER","optional":false},{"name":"congestionLevel","type":"INTEGER","optional":false},{"name":"truckId","type":"INTEGER","optional":false},{"name":"driverId","type":"INTEGER","optional":false},{"name":"driverName","type":"STRING","optional":false},{"name":"routeName","type":"STRING","optional":false},{"name":"latitude","type":"DOUBLE","optional":false},{"name":"longitude","type":"DOUBLE","optional":false},{"name":"speed","type":"INTEGER","optional":false},{"name":"eventType","type":"STRING","optional":false},{"name":"foggy","type":"INTEGER","optional":false},{"name":"rainy","type":"INTEGER","optional":false},{"name":"windy","type":"INTEGER","optional":false}],"timestamp":1509757981369}],"timestamp":1509757981369}],"edges":[{"id":16,"versionId":18,"topologyId":1,"fromId":17,"toId":18,"streamGroupings":[{"streamId":17,"grouping":"FIELDS","fields":["routeId"]}],"timestamp":1509757981369},{"id":15,"versionId":18,"topologyId":1,"fromId":16,"toId":18,"streamGroupings":[{"streamId":16,"grouping":"FIELDS","fields":["routeId"]}],"timestamp":1509757981369},{"id":18,"versionId":18,"topologyId":1,"fromId":18,"toId":2,"streamGroupings":[{"streamId":18,"grouping":"SHUFFLE","fields":null}],"timestamp":1509757981369},{"id":19,"versionId":18,"topologyId":1,"fromId":18,"toId":3,"streamGroupings":[{"streamId":18,"grouping":"SHUFFLE","fields":null}],"timestamp":1509757981369},{"id":28,"versionId":18,"topologyId":1,"fromId":3,"toId":13,"streamGroupings":[{"streamId":21,"grouping":"SHUFFLE","fields":null}],"timestamp":1509757981369},{"id":29,"versionId":18,"topologyId":1,"fromId":3,"toId":4,"streamGroupings":[{"streamId":21,"grouping":"SHUFFLE","fields":null}],"timestamp":1509757981369}],"rules":[{"id":4,"versionId":18,"topologyId":1,"name":"IsViolation","description":"IsViolation","streams":["join_processor_stream_18"],"condition":"eventType <> 'Normal'","sql":"SELECT *  FROM join_processor_stream_18 WHERE eventType <> 'Normal'","actions":[{"__type":"com.hortonworks.streamline.streams.layout.component.rule.action.TransformAction","name":"transformAction","outputStreams":["rule_transform_stream_4"],"transforms":[]}],"outputStreams":["rule_transform_stream_4","rule_notifier_stream_4"],"timestamp":1509757981369}],"windows":[],"branchRules":[],"bundleIdToType":{"1":"KAFKA","4":"RULE","16":"DRUID","7":"JOIN","10":"HDFS"},"topologyEditorMetadata":{"topologyId":1,"versionId":18,"data":"{\"sources\":[{\"x\":48.75000762939453,\"y\":231.25,\"id\":16},{\"x\":60,\"y\":321.25,\"id\":17}],\"sinks\":[{\"x\":602.5,\"y\":408.75,\"id\":2},{\"x\":893.75,\"y\":243.75,\"id\":4},{\"x\":916.25,\"y\":96.25,\"id\":13}],\"processors\":[{\"x\":301.25,\"y\":287.5,\"id\":18},{\"x\":632.5,\"y\":191.25,\"id\":3}],\"graphTransforms\":{\"dragCoords\":[20.000003814697266,146],\"zoomScale\":0.8},\"customNames\":null}","timestamp":1509757329744}}